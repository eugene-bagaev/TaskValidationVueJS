(function(e){function t(t){for(var r,n,i=t[0],l=t[1],c=t[2],d=0,h=[];d<i.length;d++)n=i[d],o[n]&&h.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=n(n.s=s[0]))}return e}var r={},o={app:0},a=[];function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1:function(e,t){},1102:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var r=s("2b0e"),o=s("bb71");s("da64");r["default"].use(o["a"],{iconfont:"md"});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("StartPage")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"sandbox",dark:e.dark}},[e.showTable?s("div",[s("fixed-header",{attrs:{threshold:100}},[s("div",{staticClass:"navbar",staticStyle:{"z-index":"20"}},[s("Header",{on:{changeTheme:function(t){e.dark=!e.dark},logout:e.logout}})],1)]),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{lg2:""}},[s("div",{staticStyle:{"padding-top":"50px",position:"sticky",top:"0"}},[s("LeftSidebar")],1)]),s("v-flex",{attrs:{lg8:""}},[s("v-card",{staticClass:"content-card"},[s("v-container",[s("div",{staticClass:"content-card-container"},[s("AlertComponent"),s("UsersTable",{attrs:{showTable:e.showTable}}),s("Results",{ref:"results"}),s("FilesCmp")],1)])],1)],1),s("v-flex",{attrs:{lg2:""}})],1)],1):e._e(),s("CallbackSpinner"),s("login-component",{attrs:{showThis:e.showLoginForm}}),s("div",{attrs:{id:"footer"}})],1)},l=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showTableForm,expression:"showTableForm"}],attrs:{type:"hidden"},domProps:{value:e.showTableForm},on:{input:function(t){t.target.composing||(e.showTableForm=t.target.value)}}}),s("v-card-title",[e._v("\n        Группы: "+e._s(0===e.currentGroups.length?"все группы":e.currentGroups.join(", "))+"\n        "),s("v-icon",{staticStyle:{"padding-left":"50px"},attrs:{large:""},on:{click:e.refresh}},[e._v("cached")]),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-data-table",{staticClass:"elevation-1",attrs:{"disable-initial-sort":"",headers:e.usersTableHeaders,items:e.getCurrentUsers(),search:e.search,"rows-per-page-items":e.rowsPerPage},scopedSlots:e._u([{key:"headers",fn:function(t){return[s("tr",[s("th",[s("v-checkbox",{attrs:{"hide-details":""},on:{change:e.selectAllUsers},model:{value:e.allUsersSelected,callback:function(t){e.allUsersSelected=t},expression:"allUsersSelected"}})],1),e._l(t.headers,function(t){return s("th",{key:t.text,staticStyle:{"text-align":"left"}},[e._v("\n                    "+e._s(t.text)+"\n                ")])})],2)]}},{key:"items",fn:function(t){return[s("td",[s("v-checkbox",{attrs:{"hide-details":""},model:{value:t.item.checked,callback:function(s){e.$set(t.item,"checked",s)},expression:"props.item.checked"}})],1),s("td",[e._v(e._s(t.item.index+1))]),s("td",{staticClass:"text-xs-left"},[s("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on;return[s("span",e._g({},o),[s("a",{attrs:{href:"https://login.salesforce.com/?un="+t.item.userName+"&pw="+t.item.password,target:"_blank"}},[e._v("\n                                "+e._s(t.item.userName)+"\n                            ")])])]}}],null,!0)},[s("span",[e._v("Перейти на орг")])])],1),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.fio))]),s("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.group))])]}}])})],1)},u=[],d=(s("2fdb"),s("6762"),s("28a5"),s("4f7f"),s("ac6a"),s("5df3"),s("1c4c"),s("55dd"),window.location.href.includes("localhost")?"http://localhost:8080/getUsers":"https://task-validation-lc.herokuapp.com/getUsers"),h=window.location.href.includes("localhost")?"http://localhost:8080/usersInfo":"https://task-validation-lc.herokuapp.com/usersInfo",f=window.location.href.includes("localhost")?"http://localhost:8080/userFile":"https://task-validation-lc.herokuapp.com/userFile",p=window.location.href.includes("localhost")?"http://localhost:8080/feedback":"https://task-validation-lc.herokuapp.com/feedback",m=window.location.href.includes("localhost")?"http://localhost:8080/authorization":"https://task-validation-lc.herokuapp.com/authorization",v=(window.location.href.includes("localhost"),"Не найден файл"),g="Выберите хотя бы одного пользователя",b="Количество ошибок - ",w="#EF5350",k="Введите что-нибудь",y="Отзыв отправлен",x="Произошла ошибка при отправке на сервер",_="task-validation-vue-js-spring-vrp-company-token",$="task-validation-vue-js-spring-vrp-company-username",S={name:"UsersTable",data:function(){return{users:[],usersTableHeaders:[{text:"#",value:"index",sortable:!1,align:"left"},{text:"Login(Можно перейти на орг)",value:"userName",sortable:!1},{text:"User name",value:"fio",sortable:!1},{text:"Group",value:"group",sortable:!1}],search:"",groups:[""],currentGroups:[],rowsPerPage:[10,25,5,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],onlyWithCreds:!0,allUsersSelected:!1}},props:{showTable:Boolean},mounted:function(){var e=this;this.$root.$on("selectGroups",function(t){e.currentGroups=t}),this.$root.$on("getSelectedUsersInfo",this.getSelectedUsersInfo),this.$root.$on("setOnlyWithCredsMod",function(){e.onlyWithCreds=!e.onlyWithCreds}),this.$root.$on("openMainPage",function(){e.getUsersCreds()})},computed:{showTableForm:function(){return this.showTable&&this.getUsersCreds(),this.showTable}},methods:{toggle:function(){this.allSelected?this.currentGroups=Array.from(this.groups).sort(function(e,t){return e-t}):this.currentGroups=[]},getUsersCreds:function(){var e=this;this.$root.$emit("setState",!0),this.$http.get(d).then(function(t){var s=[];t.body.forEach(function(t,r){e.users.push({index:r,userName:t.userName,password:t.password,checked:!1,group:t.group,fio:t.fio}),s.push(t.group)}),e.groups=new Set(s);var r=e.$cookies.get("currentGroups");r&&(e.currentGroups=r.split(",").filter(function(e){return s.includes(e)})),e.$root.$emit("setGroups",new Set(s),e.currentGroups),e.$root.$emit("setState",!1)},function(t){e.$root.$emit("setAlert",t.body.message,"error"),e.$root.$emit("setState",!1)})},getCurrentUsers:function(){var e=this,t=this.onlyWithCreds?this.users.filter(function(e){return""!==e.userName&&""!==e.password}):this.users;return 0===this.currentGroups.length?t:t.filter(function(t){return e.currentGroups.includes(t.group)})},refresh:function(){this.users=[],this.getUsersCreds()},getSelectedUsersInfo:function(){var e=[];return this.getCurrentUsers().forEach(function(t){t.checked&&e.push(t.userName)}),this.getResults(e)},getResults:function(e){e.includes("")?this.$root.$emit("setAlert","Выбраны пользователи без логинов","error"):0===e.length?this.$root.$emit("setAlert",g,"error"):(this.$root.$emit("runCallback",this.$http.post(h,e.join(";")),"getUserResults"),this.$root.$emit("showUsersSearch"))},selectAllUsers:function(){var e=this.getCurrentUsers();this.allUsersSelected?this.users=this.users.map(function(t){return e.includes(t)&&(t.checked=!0),t}):this.users=this.users.map(function(t){return e.includes(t)&&(t.checked=!1),t})}}},C=S,T=s("2877"),V=s("6544"),F=s.n(V),R=s("b0af"),A=s("12b2"),L=s("ac7c"),O=s("8fea"),U=s("132d"),j=s("9910"),E=s("2677"),G=s("3a2f"),B=Object(T["a"])(C,c,u,!1,null,"efc027c2",null),M=B.exports;F()(B,{VCard:R["a"],VCardTitle:A["a"],VCheckbox:L["a"],VDataTable:O["a"],VIcon:U["a"],VSpacer:j["a"],VTextField:E["a"],VTooltip:G["a"]});var P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"resultTables"}},[e.showResults?s("div",{staticClass:"results"},[0===Object.keys(e.userResults).filter(function(t){return t.includes(e.userForSearch)}).length?s("div",{staticClass:"results-table"},[e._v("\n            No users\n        ")]):e._e(),e._l(e.userResults,function(t,r,o){return s("div",{key:o},[r.includes(e.userForSearch)?s("div",{staticClass:"results-table"},[s("v-toolbar",{attrs:{flat:""}},[s("v-toolbar-title",[e._v(e._s(r))]),s("v-spacer"),e.usersLoginHistories[r]?s("div",{staticClass:"text-xs-center"},[s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[s("v-btn",e._g({attrs:{color:"primary",dark:""}},r),[e._v("\n                                    История входов\n                                ")])]}}],null,!0)},[s("v-list",e._l(e.usersLoginHistories[r],function(t,r){return s("v-list-tile",{key:r},[s("v-list-tile-title",[e._v(e._s(t))])],1)}),1)],1)],1):e._e(),e.usersLoginHistories[r]?e._e():s("div",[e._v("No login history")])],1),e.usersErrors[r]?e._l(e.usersErrors[r],function(t,r){return s("v-alert",{key:r,attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                        "+e._s(t)+"\n                    ")])}):e._e(),e.usersErrors[r]?e._e():s("v-data-table",{staticClass:"elevation-1",attrs:{"disable-initial-sort":"",headers:e.userResultsHeaders,items:t},scopedSlots:e._u([{key:"items",fn:function(t){return[s("td",{attrs:{bgcolor:"ERROR"==t.item.status?e.errorColor:""}},[e._v("\n                            "+e._s(t.item.index)+"\n                        ")]),s("td",{attrs:{bgcolor:"ERROR"==t.item.status?e.errorColor:""}},[t.item.resultsList.length>0?s("v-btn",{attrs:{flat:"",fab:"",small:""},on:{click:function(s){return e.showMetadataResults(t.item)}}},[t.item.showResultsList?e._e():s("v-icon",[e._v("list")]),t.item.showResultsList?s("v-icon",[e._v("arrow_upward")]):e._e()],1):e._e(),e._v("\n                            "+e._s(t.item.nameMetadata)+"\n                            "),t.item.showResultsList?s("table",e._l(t.item.resultsList,function(o,a){return s("tr",{key:a},[s("td",{attrs:{bgcolor:"ERROR"==o.status?e.errorColor:""}},[e._v(e._s(o.message))]),!o.message.includes(e.notFound)&&t.item.nameMetadata.includes("Test")?s("v-btn",{on:{click:function(t){e.showFile(r,o.message.substring(7,o.message.indexOf(" ",8)))}}},[e._v("\n                                                View file\n                                            ")]):e._e()],1)}),0):e._e()],1),s("td",{attrs:{bgcolor:"ERROR"==t.item.status?e.errorColor:""}},[e._v(e._s(t.item.status))]),s("td",{attrs:{bgcolor:"ERROR"==t.item.status?e.errorColor:""}},[e._v(e._s(t.item.message))]),s("td",{attrs:{bgcolor:"ERROR"==t.item.status?e.errorColor:""}},[t.item.message.includes(e.notFound)||t.item.nameMetadata.includes("Test")?e._e():s("v-btn",{on:{click:function(s){return e.showFile(r,t.item.nameMetadata)}}},[e._v("\n                                View file\n                            ")])],1)]}},{key:"footer",fn:function(){return[s("td",{attrs:{colspan:e.userResultsHeaders.length}},[s("strong",{staticStyle:{float:"right"}},[e._v("\n                                "+e._s(e.getReport(t))+"\n                            ")])])]},proxy:!0}],null,!0)})],2):e._e()])})],2):e._e()])},N=[],H={name:"Results",data:function(){return{showResults:!1,userResults:[],userResultsHeaders:[{text:"#",value:"index",sortable:!1},{text:"Metadata File",value:"nameMetadata"},{text:"Status",value:"status"},{text:"Message",value:"message"},{text:"View file",value:"file"}],notFound:v,errorColor:w,usersErrors:{},userForSearch:"",usersLoginHistories:{}}},mounted:function(){var e=this;this.$root.$on("getUserResults",function(t){t=t.body;var s={},r=function(r){var o=[];e.usersErrors[r]=t[r].errors,e.usersLoginHistories[r]=t[r].loginHistoryList,t[r].results&&t[r].results.forEach(function(e){if(0===o.filter(function(t){return t.nameMetadata===e.nameMetadata}).length){var s=t[r].results.filter(function(t){return t.nameMetadata===e.nameMetadata}),a=s.filter(function(e){return"ERROR"===e.status}),n=b+a.length;1===a.length&&a[0].message.includes(v)&&(n=a[0].message,s=[]);var i=0===a.length?"SUCCESS":"ERROR";o.push({index:o.length+1,nameMetadata:e.nameMetadata,status:i,message:n,resultsList:s,showResultsList:!1})}}),s[r]=o};for(var o in t)r(o);e.userResults=s,e.showResults=!0}),this.$root.$on("searchUser",function(t){e.userForSearch=t})},methods:{showFile:function(e,t){this.$root.$emit("runCallback",this.$http.post(f,e+";"+t),"setUserFile")},showMetadataResults:function(e){e.showResultsList=!e.showResultsList,"ERROR"!==e.status&&""!==e.status||(e.status="ERROR"===e.status?"":"ERROR")},getReport:function(e){var t=e.filter(function(e){return 0!==e.resultsList.length}),s=t.filter(function(e){return"SUCCESS"===e.status}).length;t=t.length-s;var r=e.length-t-s;return"Заданий выполнено без ошибок: "+s+", Заданий выполнено с ошибками: "+t+", Заданий не выполнено: "+r}}},I=H,D=(s("b310"),s("0798")),W=s("8336"),q=s("8860"),z=s("ba95"),J=s("5d23"),Q=s("e449"),K=s("71d9"),X=s("2a7f"),Y=Object(T["a"])(I,P,N,!1,null,"37d049cf",null),Z=Y.exports;F()(Y,{VAlert:D["a"],VBtn:W["a"],VDataTable:O["a"],VIcon:U["a"],VList:q["a"],VListTile:z["a"],VListTileTitle:J["b"],VMenu:Q["a"],VSpacer:j["a"],VToolbar:K["a"],VToolbarTitle:X["a"]});var ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-toolbar",{attrs:{"clipped-left":e.primaryDrawer.clipped,app:"",absolute:""}},[s("v-toolbar-title",[e._v("Task Checker")]),s("v-spacer"),s("div",{staticClass:"right-part"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticStyle:{"padding-top":"15px"},attrs:{lg9:""}},[s("v-btn",{staticStyle:{"padding-right":"20px"},attrs:{color:"info"},on:{click:e.sendFeedBack}},[e._v("Оставить пожелание")])],1),s("v-flex",{attrs:{lg3:""}},[s("br"),s("v-switch",{attrs:{primary:"",label:e.dark?"Dark":"Light"},on:{change:e.chooseTheme}})],1)],1)],1)],1)],1)},te=[],se={name:"Header",data:function(){return{drawers:["Default (no property)","Permanent","Temporary"],primaryDrawer:{model:!1,type:"Default (no property)",clipped:!0,floating:!0,mini:!1},showDrawer:!1,dark:!0}},methods:{chooseTheme:function(){this.$emit("changeTheme"),this.dark=!this.dark},sendFeedBack:function(){this.$root.$emit("setFeedBack")},logOut:function(){this.$emit("logout"),this.$root.$emit("openLoginForm")}}},re=se,oe=(s("592b"),s("0e8f")),ae=s("a722"),ne=s("b73d"),ie=Object(T["a"])(re,ee,te,!1,null,"7e1ccf16",null),le=ie.exports;F()(ie,{VBtn:W["a"],VFlex:oe["a"],VLayout:ae["a"],VSpacer:j["a"],VSwitch:ne["a"],VToolbar:K["a"],VToolbarTitle:X["a"]});var ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-alert",{attrs:{dismissible:"",type:e.alertType},model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v("\n        "+e._s(e.message)+"\n    ")])],1)},ue=[],de={name:"AlertComponent",data:function(){return{showAlert:!1,message:"",alertType:"error"}},mounted:function(){var e=this;this.$root.$on("setAlert",function(t,s){e.message=t,e.alertType=s,e.showAlert=!0})}},he=de,fe=Object(T["a"])(he,ce,ue,!1,null,"f0f19fe4",null),pe=fe.exports;F()(fe,{VAlert:D["a"]});var me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-xs-center"},[s("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.callbackState,callback:function(t){e.callbackState=t},expression:"callbackState"}},[s("v-card",{attrs:{color:"primary",dark:""}},[s("v-card-text",[e._v("\n                Please stand by\n                "),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1),s("div",{staticClass:"callback-cancel-button"},[s("v-btn",{attrs:{color:"error"},on:{click:function(t){e.callbackState=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},ve=[],ge={name:"CallbackSpinner",data:function(){return{callbackState:!1,promise:null}},mounted:function(){var e=this;this.$root.$on("setState",function(t){e.callbackState=t}),this.$root.$on("runCallback",function(t,s){e.callbackState=!0,e.promise=t,t.then(function(r){e.callbackState&&e.promise===t&&(e.$root.$emit(s,r),e.callbackState=!1)},function(t){e.$root.$emit("setAlert",t.body.message,"error"),e.$root.$emit("setState",!1)})})}},be=ge,we=(s("f01b"),s("99d9")),ke=s("169a"),ye=s("8e36"),xe=Object(T["a"])(be,me,ve,!1,null,"23b670ea",null),_e=xe.exports;F()(xe,{VBtn:W["a"],VCard:R["a"],VCardText:we["a"],VDialog:ke["a"],VProgressLinear:ye["a"]});var $e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-dialog",{attrs:{"max-width":"1200",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{staticStyle:{"overflow-x":"auto"}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[s("v-icon",[e._v("close")])],1),e.isFile?s("v-toolbar-title",[e._v(e._s(e.fileOwner))]):e._e(),e.isFeedBack?s("v-toolbar-title",[e._v("Введите пожелания")]):e._e()],1),s("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v("\n                "+e._s(e.message)+"\n            ")]),e.isFile?s("v-subheader",[e._v(e._s(e.fileName))]):e._e(),e.isFeedBack?s("v-subheader",[e._v("Оставьте свои пожелания")]):e._e(),e.isFeedBack?s("div",[s("v-container",[s("v-textarea",{attrs:{solo:"",label:"Текст отзыва"},model:{value:e.feedBackText,callback:function(t){e.feedBackText=t},expression:"feedBackText"}},[e._v(e._s(e.feedBackText))]),s("v-btn",{on:{click:e.sendFeedback}},[e._v("Отправить")])],1)],1):e._e(),s("pre",{attrs:{id:"fileContent"}},[e._v("            ")])],1)],1)],1)},Se=[],Ce={name:"FilesComponent",data:function(){return{dialog:!1,fileName:"",fileOwner:"",isFeedBack:!1,feedBackText:"",isFile:!1,showAlert:!1,message:""}},mounted:function(){var e=this;this.$root.$on("setUserFile",function(t){t=t.body,document.getElementById("fileContent").innerHTML=t.content,e.fileName=t.fileName,e.fileOwner=t.fileOwner,e.isFeedBack=!1,e.isFile=!0,e.dialog=!0,e.showAlert=!1}),this.$root.$on("setFeedBack",function(){document.getElementById("fileContent").innerHTML="",e.isFile=!1,e.isFeedBack=!0,e.dialog=!0,e.feedBackText="",e.showAlert=!1})},methods:{sendFeedback:function(){var e=this;0===this.feedBackText.length?(this.message=k,this.showAlert=!0):(this.$http.post(p,this.feedBackText).then(function(){e.$root.$emit("setAlert",y,"success")},function(){e.$root.$emit("setAlert",x,"error")}),this.dialog=!1)}}},Te=Ce,Ve=(s("b71d"),s("a523")),Fe=s("e0c7"),Re=s("a844"),Ae=Object(T["a"])(Te,$e,Se,!1,null,"9094fafc",null),Le=Ae.exports;F()(Ae,{VAlert:D["a"],VBtn:W["a"],VCard:R["a"],VContainer:Ve["a"],VDialog:ke["a"],VIcon:U["a"],VLayout:ae["a"],VSubheader:Fe["a"],VTextarea:Re["a"],VToolbar:K["a"],VToolbarTitle:X["a"]});var Oe=s("6c9c"),Ue=s.n(Oe),je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-select",{attrs:{multiple:"",items:Array.from(e.groups).sort(function(e,t){return e-t}),label:"Выберите номер группы"},on:{change:e.changeGroup},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[s("v-list-tile",{attrs:{ripple:""},on:{click:e.toggle}},[s("v-list-tile-action",[s("v-checkbox",{model:{value:e.allSelected,callback:function(t){e.allSelected=t},expression:"allSelected"}})],1),s("v-list-tile-content",[s("v-list-tile-title",[e._v("Select All")])],1)],1),s("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:e.currentGroups,callback:function(t){e.currentGroups=t},expression:"currentGroups"}}),s("div",{staticStyle:{"text-align":"center"}},[s("v-checkbox",{attrs:{label:"Креды должны быть заполнены"},on:{change:e.setOnlyWithCredsMod},model:{value:e.onlyWithCreds,callback:function(t){e.onlyWithCreds=t},expression:"onlyWithCreds"}}),s("v-btn",{staticStyle:{width:"100%"},attrs:{color:"info"},on:{click:e.getSelectedUsersInfo}},[e._v("Проверить")])],1),e.usersAreShowed?s("v-text-field",{attrs:{"append-icon":"search",label:"Введите имя пользователя","single-line":"","hide-details":""},on:{keyup:e.searchUserByName},model:{value:e.userForSearch,callback:function(t){e.userForSearch=t},expression:"userForSearch"}}):e._e()],1)},Ee=[],Ge={name:"LeftSidebar",data:function(){return{groups:[],currentGroups:[],allSelected:!1,usersAreShowed:!1,userForSearch:"",onlyWithCreds:!0}},mounted:function(){var e=this;this.$root.$on("setGroups",function(t,s){e.groups=t,e.currentGroups=s}),this.$root.$on("showUsersSearch",function(){e.usersAreShowed=!0})},methods:{toggle:function(){this.allSelected?this.currentGroups=Array.from(this.groups).sort(function(e,t){return e-t}):this.currentGroups=[],this.$root.$emit("selectGroups",this.currentGroups),this.$cookies.set("currentGroups",this.currentGroups,604800)},changeGroup:function(){this.$root.$emit("selectGroups",this.currentGroups),this.$cookies.set("currentGroups",this.currentGroups,604800)},getAllUsersInfo:function(){this.$root.$emit("getAllUsersInfo")},getSelectedUsersInfo:function(){this.$root.$emit("getSelectedUsersInfo")},searchUserByName:function(){this.$root.$emit("searchUser",this.userForSearch)},setOnlyWithCredsMod:function(){this.$root.$emit("setOnlyWithCredsMod")}}},Be=Ge,Me=s("ce7e"),Pe=s("40fe"),Ne=s("b56d"),He=Object(T["a"])(Be,je,Ee,!1,null,"1b5f2ee2",null),Ie=He.exports;F()(He,{VBtn:W["a"],VCheckbox:L["a"],VContainer:Ve["a"],VDivider:Me["a"],VListTile:z["a"],VListTileAction:Pe["a"],VListTileContent:J["a"],VListTileTitle:J["b"],VSelect:Ne["a"],VTextField:E["a"]});var De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{row:"","justify-center":""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showForm,expression:"showForm"}],attrs:{type:"hidden"},domProps:{value:e.showForm},on:{input:function(t){t.target.composing||(e.showForm=t.target.value)}}}),s("v-dialog",{attrs:{"max-width":"500",transition:"dialog-bottom-transition",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{staticStyle:{"overflow-x":"auto"}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v("Войти")])],1),s("AlertComponent"),s("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:e.showAlert,callback:function(t){e.showAlert=t},expression:"showAlert"}},[e._v("\n                "+e._s(e.message)+"\n            ")]),s("div",{on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.setCursor(t):null}}},[s("v-container",[s("v-form",{ref:"loginForm"},[s("span",[e._v("Логин")]),s("br"),s("v-text-field",{attrs:{id:"login",label:"Введите логин","prepend-icon":"person",rules:e.loginRules},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),s("span",[e._v("Пароль")]),s("br"),s("v-text-field",{attrs:{id:"password",label:"Введите пароль","append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password",required:"","prepend-icon":"lock",rules:e.passwordRules},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("div",{staticStyle:{"text-align":"center"}},[s("v-btn",{attrs:{color:"primary"},on:{click:e.login}},[e._v("Войти")])],1)],1)],1)],1)],1)],1)],1)},We=[],qe={name:"LoginComponent",components:{AlertComponent:pe},data:function(){return{userName:"",password:"",showAlert:!1,message:"",dialog:this.showThis,showPassword:!1,passwordRules:[function(e){return!(e.length<8)||"Пароль должен содержать от 8 символов"}],loginRules:[function(e){return!(e.length<2)||"Имя пользователя должно содержать хотя бы 2 символа"}]}},props:{showThis:Boolean},computed:{showForm:function(){return this.setFormState(this.showThis),this.showThis}},mounted:function(){var e=this;this.$root.$on("checkLogin",function(t){var s=t.body;s?(e.$cookies.set(_,s.authorizationToken,1209600),e.$cookies.set($,s.userName,1209600),e.$root.$emit("openMainPage"),e.dialog=!1,e.password="",e.userName=""):(e.message="Неправильный логин или пароль",e.showAlert=!0)}),this.$root.$on("openLoginForm",function(){e.dialog=!0})},methods:{login:function(){this.$refs.loginForm.validate()&&this.$root.$emit("runCallback",this.$http.post(m,this.userName+";"+this.password),"checkLogin")},setFormState:function(e){this.dialog=e},setCursor:function(){var e=document.querySelectorAll(":focus");e.length>0?"login"===e[0].id?document.getElementById("password").focus():"password"===e[0].id&&this.login():this.login()}}},ze=qe,Je=s("4bd4"),Qe=Object(T["a"])(ze,De,We,!1,null,"0d757370",null),Ke=Qe.exports;F()(Qe,{VAlert:D["a"],VBtn:W["a"],VCard:R["a"],VContainer:Ve["a"],VDialog:ke["a"],VForm:Je["a"],VLayout:ae["a"],VTextField:E["a"],VToolbar:K["a"],VToolbarTitle:X["a"]});var Xe={components:{UsersTable:M,Results:Z,Header:le,AlertComponent:pe,CallbackSpinner:_e,FilesCmp:Le,FixedHeader:Ue.a,LeftSidebar:Ie,LoginComponent:Ke},data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuetifyjs.com"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}],dark:!0,showLoginForm:!1,showTable:!1}},created:function(){this.showTable=!0},mounted:function(){var e=this;this.$root.$on("openMainPage",function(){e.showTable=!0}),this.$root.$on("getUserResults",function(){e.$vuetify.goTo("#resultTables")})},methods:{logout:function(){this.showLoginForm=!0,this.showTable=!1,this.$cookies.remove("currentGroups"),this.$cookies.remove(_),this.$cookies.remove($)}}},Ye=Xe,Ze=(s("88dc"),s("7496")),et=Object(T["a"])(Ye,i,l,!1,null,null,null),tt=et.exports;F()(et,{VApp:Ze["a"],VCard:R["a"],VContainer:Ve["a"],VFlex:oe["a"],VLayout:ae["a"]});var st={name:"App",components:{StartPage:tt},data:function(){return{}}},rt=st,ot=Object(T["a"])(rt,a,n,!1,null,null,null),at=ot.exports;F()(ot,{VApp:Ze["a"]});var nt=s("28dd"),it=s("2b27"),lt=s.n(it),ct=s("8c4f"),ut=s("1a40");s.d(t,"bus",function(){return dt}),r["default"].use(lt.a),lt.a.config("7d"),lt.a.set("theme","default"),lt.a.set("hover-time","1s"),r["default"].use(nt["a"]),r["default"].config.productionTip=!1;var dt=new r["default"];new r["default"]({render:function(e){return e(at)}}).$mount("#app");t["default"]=new ct["a"]({scrollBehavior:function(e,t,s){var r=0;return e.hash?r=e.hash:s&&(r=s.y),Object(ut["a"])(r)},routes:[]})},"592b":function(e,t,s){"use strict";var r=s("86dd"),o=s.n(r);o.a},"5bc7":function(e,t,s){},"6a38":function(e,t,s){},"86dd":function(e,t,s){},"88dc":function(e,t,s){"use strict";var r=s("6a38"),o=s.n(r);o.a},a7e6:function(e,t,s){},b310:function(e,t,s){"use strict";var r=s("1102"),o=s.n(r);o.a},b71d:function(e,t,s){"use strict";var r=s("5bc7"),o=s.n(r);o.a},f01b:function(e,t,s){"use strict";var r=s("a7e6"),o=s.n(r);o.a}});
//# sourceMappingURL=app.2fec9a87.js.map