(function(t){function e(e){for(var a,o,l=e[0],i=e[1],u=e[2],f=0,d=[];f<l.length;f++)o=l[f],s[o]&&d.push(s[o][0]),s[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);c&&c(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,l=1;l<r.length;l++){var i=r[l];0!==s[i]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},s={app:0},n=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=i;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1:function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),s=r("bb71");r("da64");a["a"].use(s["a"],{iconfont:"md"});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("StartPage")],1)},o=[],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"sandbox",dark:t.dark}},[r("Header",{on:{changeTheme:function(e){t.dark=!t.dark}}}),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{lg2:""}}),r("v-flex",{attrs:{lg8:""}},[r("v-card",{staticStyle:{height:"100%"}},[r("v-container",[r("div",{staticStyle:{height:"100%","padding-top":"50px",position:"relative"}},[r("AlertComponent"),r("CallbackSpinner"),r("UsersTable"),r("Results"),r("FilesCmp")],1)])],1)],1),r("v-flex",{attrs:{lg2:""}})],1),r("Footer")],1)},i=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-container",[r("v-select",{attrs:{multiple:"",items:Array.from(t.groups).sort(function(t,e){return t-e}),label:"Выберите номер группы"},model:{value:t.currentGroups,callback:function(e){t.currentGroups=e},expression:"currentGroups"}})],1),t.currentGroups.length>0?r("v-card-title",[t._v("\n        Группы "+t._s(t.currentGroups.join(", "))+"\n        "),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1):t._e(),t.currentGroups.length>0?r("v-data-table",{staticClass:"elevation-1",attrs:{"disable-initial-sort":"",headers:t.usersTableHeaders,items:t.getCurrentUsers(),search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.index+1))]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.item.checked,expression:"props.item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.item.checked)?t._i(e.item.checked,null)>-1:e.item.checked},on:{change:function(r){var a=e.item.checked,s=r.target,n=!!s.checked;if(Array.isArray(a)){var o=null,l=t._i(a,o);s.checked?l<0&&t.$set(e.item,"checked",a.concat([o])):l>-1&&t.$set(e.item,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e.item,"checked",n)}}})]),r("td",{staticClass:"text-xs-left"},[r("a",{attrs:{href:"https://login.salesforce.com/?un="+e.item.userName+"&pw="+e.item.password}},[t._v("\n                    "+t._s(e.item.userName)+"\n                ")])]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.fio))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.group))])]}}],null,!1,961501390)}):t._e(),t.currentGroups.length>0?r("div",{staticStyle:{float:"right"}},[r("v-btn",{attrs:{color:"info"},on:{click:t.getAllUsersInfo}},[t._v("Show Results for all users")]),r("v-btn",{attrs:{color:"info"},on:{click:t.getSelectedUsersInfo}},[t._v("Show Results for selected users")]),r("v-btn",{attrs:{color:"info"},on:{click:t.refresh}},[t._v("Refresh")])],1):t._e()],1)},c=[],f=(r("6762"),r("2fdb"),r("5df3"),r("4f7f"),r("ac6a"),window.location.href.includes("localhost")?"http://localhost:8080/getUsers":"https://task-validation-lc.herokuapp.com/getUsers"),d=window.location.href.includes("localhost")?"http://localhost:8080/usersInfo":"https://task-validation-lc.herokuapp.com/usersInfo",p=window.location.href.includes("localhost")?"http://localhost:8080/userFile":"https://task-validation-lc.herokuapp.com/userFile",h="Не найден файл",m="You must select at least 1 user",v="Количество ошибок - ",g="#EF5350",b={name:"UsersTable",data:function(){return{users:[],usersTableHeaders:[{text:"#",value:"index",sortable:!1,align:"left"},{text:"Select User",value:"checked",sortable:!1},{text:"Login",value:"userName",sortable:!1},{text:"User name",value:"fio",sortable:!1},{text:"Group",value:"group",sortable:!1}],search:"",groups:[""],currentGroups:[]}},created:function(){this.getUsersCreds()},methods:{getUsersCreds:function(){var t=this;this.$root.$emit("setState",!0),this.$http.get(f).then(function(e){var r=[];e.body.forEach(function(e,a){t.users.push({index:a,userName:e.userName,password:e.password,checked:!1,group:e.group,fio:e.fio}),r.push(e.group)}),t.groups=new Set(r),t.$root.$emit("setState",!1)})},getCurrentUsers:function(){var t=this;return this.users.filter(function(e){return t.currentGroups.includes(e.group)})},refresh:function(){this.users=[],this.getUsersCreds()},getAllUsersInfo:function(){var t=[];this.getCurrentUsers().forEach(function(e){t.push(e.userName)}),this.getResults(t.join(";"))},getSelectedUsersInfo:function(){var t=[];this.getCurrentUsers().forEach(function(e){e.checked&&t.push(e.userName)}),this.getResults(t.join(";"))},getResults:function(t){""===t?this.$root.$emit("setAlert",m,"error"):this.$root.$emit("runCallback",this.$http.post(d,t),"getUserResults")}}},y=b,x=r("2877"),w=r("6544"),_=r.n(w),k=r("8336"),R=r("b0af"),S=r("12b2"),C=r("a523"),V=r("8fea"),$=r("b56d"),E=r("9910"),T=r("2677"),O=Object(x["a"])(y,u,c,!1,null,"c9d75084",null),j=O.exports;_()(O,{VBtn:k["a"],VCard:R["a"],VCardTitle:S["a"],VContainer:C["a"],VDataTable:V["a"],VSelect:$["a"],VSpacer:E["a"],VTextField:T["a"]});var A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showResults?r("div",{staticStyle:{"padding-top":"30px"}},t._l(t.userResults,function(e,a,s){return r("div",{key:s,staticStyle:{"padding-top":"30px"}},[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[t._v(t._s(a))])],1),r("v-data-table",{staticClass:"elevation-1",attrs:{"disable-initial-sort":"",headers:t.userResultsHeaders,items:e},scopedSlots:t._u([t.usersErrors[a]?{key:"no-data",fn:function(){return t._l(t.usersErrors[a],function(e,a){return r("v-alert",{key:a,attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n                    "+t._s(e)+"\n                ")])})},proxy:!0}:null,t.usersErrors[a]?null:{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.index))]),r("td",{attrs:{bgcolor:"ERROR"==e.item.status?t.errorColor:""}},[e.item.resultsList.length>0?r("v-btn",{attrs:{outline:"",fab:"",small:""},on:{click:function(r){return t.showMetadataResults(e.item)}}},[r("v-icon",[t._v("list")])],1):t._e(),t._v("\n                    "+t._s(e.item.nameMetadata)+"\n                    "),e.item.showResultsList?r("table",t._l(e.item.resultsList,function(e,a){return r("tr",{key:a},[r("td",{attrs:{bgcolor:"ERROR"==e.status?t.errorColor:""}},[t._v(t._s(e.message))])])}),0):t._e()],1),r("td",{attrs:{bgcolor:"ERROR"==e.item.status?t.errorColor:""}},[t._v(t._s(e.item.status))]),r("td",{attrs:{bgcolor:"ERROR"==e.item.status?t.errorColor:""}},[t._v(t._s(e.item.message))]),r("td",{attrs:{bgcolor:"ERROR"==e.item.status?t.errorColor:""}},[e.item.message.includes(t.notFound)||e.item.nameMetadata.includes("Test")?t._e():r("v-btn",{on:{click:function(r){return t.showFile(a,e.item.nameMetadata)}}},[t._v("\n                        View file\n                    ")])],1)]}},{key:"footer",fn:function(){return[r("td",{attrs:{colspan:t.userResultsHeaders.length}},[r("strong",{staticStyle:{float:"right"}},[t._v("\n                        "+t._s(t.getReport(e))+"\n                    ")])])]},proxy:!0}],null,!0)})],1)}),0):t._e()},D=[],U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-xs-center"},[r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.callbackState,callback:function(e){t.callbackState=e},expression:"callbackState"}},[r("v-card",{attrs:{color:"primary",dark:""}},[r("v-card-text",[t._v("\n                Please stand by\n                "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1),r("div",{staticStyle:{"text-align":"center"}},[r("v-btn",{attrs:{color:"error"},on:{click:function(e){t.callbackState=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},F=[],M={name:"CallbackSpinner",data:function(){return{callbackState:!1}},mounted:function(){var t=this;this.$root.$on("setState",function(e){t.callbackState=e}),this.$root.$on("runCallback",function(e,r){t.callbackState=!0,e.then(function(e){t.callbackState&&(t.$root.$emit(r,e.body),t.callbackState=!1)},function(e){t.$root.$emit("setAlert","Error","error"),t.$root.$emit("setState",!1)})})}},L=M,N=r("99d9"),P=r("169a"),G=r("8e36"),I=Object(x["a"])(L,U,F,!1,null,"c1aa17b8",null),H=I.exports;_()(I,{VBtn:k["a"],VCard:R["a"],VCardText:N["a"],VDialog:P["a"],VProgressLinear:G["a"]});var B={name:"Results",data:function(){return{showResults:!1,userResults:[],userResultsHeaders:[{text:"#",value:"index",sortable:!1},{text:"Metadata File",value:"nameMetadata"},{text:"Status",value:"status"},{text:"Message",value:"message"},{text:"View file",value:"file"}],notFound:h,errorColor:g,usersErrors:{}}},mounted:function(){var t=this;this.$root.$on("getUserResults",function(e){var r={},a=function(a){var s=[];e[a].forEach(function(r){if(null===r.nameMetadata){var n=t.usersErrors[a];n||(n=[r.message]),t.usersErrors[a]=n}else if(0===s.filter(function(t){return t.nameMetadata===r.nameMetadata}).length){var o=e[a].filter(function(t){return t.nameMetadata===r.nameMetadata}),l=o.filter(function(t){return"ERROR"===t.status}),i=v+l.length;1===l.length&&l[0].message.includes(h)&&(i=l[0].message,o=[]);var u=0===l.length?"SUCCESS":"ERROR";s.push({index:s.length+1,nameMetadata:r.nameMetadata,status:u,message:i,resultsList:o,showResultsList:!1})}}),r[a]=s};for(var s in e)a(s);t.userResults=r,t.showResults=!0})},methods:{showFile:function(t,e){this.$root.$emit("runCallback",this.$http.post(p,t+";"+e),"setUserFile")},showMetadataResults:function(t){t.showResultsList=!t.showResultsList,"ERROR"!==t.status&&""!==t.status||(t.status="ERROR"===t.status?"":"ERROR")},getReport:function(t){var e=t.filter(function(t){return 0!==t.resultsList.length}),r=e.filter(function(t){return"SUCCESS"===t.status}).length;e=e.length-r;var a=t.length-e-r;return"Заданий выполнено без ошибок: "+r+", Заданий выполнено с ошибками: "+e+", Заданий не выполнено: "+a}}},q=B,J=r("0798"),Y=r("132d"),Q=r("71d9"),z=r("2a7f"),K=Object(x["a"])(q,A,D,!1,null,"53b38e94",null),W=K.exports;_()(K,{VAlert:J["a"],VBtn:k["a"],VDataTable:V["a"],VIcon:Y["a"],VToolbar:Q["a"],VToolbarTitle:z["a"]});var X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-navigation-drawer",{attrs:{permanent:"permanent"===t.primaryDrawer.type,temporary:"temporary"===t.primaryDrawer.type,clipped:t.primaryDrawer.clipped,floating:t.primaryDrawer.floating,"mini-variant":t.primaryDrawer.mini,absolute:"",overflow:"",app:""},model:{value:t.primaryDrawer.model,callback:function(e){t.$set(t.primaryDrawer,"model",e)},expression:"primaryDrawer.model"}}),r("v-toolbar",{attrs:{"clipped-left":t.primaryDrawer.clipped,app:"",absolute:"",fixed:""}},["permanent"!==t.primaryDrawer.type?r("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.primaryDrawer.model=!t.primaryDrawer.model}}}):t._e(),r("v-toolbar-title",[t._v("Task Checker")]),r("v-spacer"),r("div",{staticStyle:{float:"right"}},[r("br"),r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-switch",{attrs:{primary:"",label:"Dark"},on:{change:t.chooseTheme}})],1)],1)],1)],1)},Z=[],tt={name:"Header",data:function(){return{drawers:["Default (no property)","Permanent","Temporary"],primaryDrawer:{model:!1,type:"Default (no property)",clipped:!0,floating:!0,mini:!1},showDrawer:!1}},methods:{chooseTheme:function(){this.$emit("changeTheme")}}},et=tt,rt=r("0e8f"),at=r("f774"),st=r("b73d"),nt=r("706c"),ot=Object(x["a"])(et,X,Z,!1,null,"e145943c",null),lt=ot.exports;_()(ot,{VFlex:rt["a"],VNavigationDrawer:at["a"],VSpacer:E["a"],VSwitch:st["a"],VToolbar:Q["a"],VToolbarSideIcon:nt["a"],VToolbarTitle:z["a"]});var it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-alert",{attrs:{dismissible:"",type:t.alertType},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}},[t._v("\n        "+t._s(t.message)+"\n    ")])],1)},ut=[],ct={name:"AlertComponent",data:function(){return{showAlert:!1,message:"",alertType:"error"}},mounted:function(){var t=this;this.$root.$on("setAlert",function(e,r){t.message=e,t.alertType=r,t.showAlert=!0})}},ft=ct,dt=Object(x["a"])(ft,it,ut,!1,null,"f0f19fe4",null),pt=dt.exports;_()(dt,{VAlert:J["a"]});var ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{attrs:{inset:t.footer.inset,app:""}},[r("span",{staticClass:"px-3"},[t._v("© "+t._s((new Date).getFullYear()))])])},mt=[],vt={name:"FooterCmp",data:function(){return{footer:{inset:!1}}}},gt=vt,bt=r("553a"),yt=Object(x["a"])(gt,ht,mt,!1,null,"cac5e19c",null),xt=yt.exports;_()(yt,{VFooter:bt["a"]});var wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{"max-width":"1200",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",[t._v("close")])],1),r("v-toolbar-title",[t._v(t._s(t.fileOwner))])],1),r("v-subheader",[t._v(t._s(t.fileName))]),r("div",{staticStyle:{"padding-left":"40px"},attrs:{id:"fileContent"}})],1)],1)],1)},_t=[],kt={name:"FilesComponent",data:function(){return{dialog:!1,fileName:"",fileOwner:""}},mounted:function(){var t=this;this.$root.$on("setUserFile",function(e){document.getElementById("fileContent").innerHTML=e.content,t.fileName=e.fileName,t.fileOwner=e.fileOwner,t.dialog=!0})}},Rt=kt,St=r("a722"),Ct=r("e0c7"),Vt=Object(x["a"])(Rt,wt,_t,!1,null,"5ff7b7e3",null),$t=Vt.exports;_()(Vt,{VBtn:k["a"],VCard:R["a"],VDialog:P["a"],VIcon:Y["a"],VLayout:St["a"],VSubheader:Ct["a"],VToolbar:Q["a"],VToolbarTitle:z["a"]});var Et={components:{UsersTable:j,Results:W,Header:lt,AlertComponent:pt,CallbackSpinner:H,Footer:xt,FilesCmp:$t},data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuetifyjs.com"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}],dark:!0}}},Tt=Et,Ot=r("7496"),jt=Object(x["a"])(Tt,l,i,!1,null,null,null),At=jt.exports;_()(jt,{VApp:Ot["a"],VCard:R["a"],VContainer:C["a"],VFlex:rt["a"],VLayout:St["a"]});var Dt={name:"App",components:{StartPage:At},data:function(){return{}}},Ut=Dt,Ft=Object(x["a"])(Ut,n,o,!1,null,null,null),Mt=Ft.exports;_()(Ft,{VApp:Ot["a"]});var Lt=r("28dd");a["a"].use(Lt["a"]),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Mt)}}).$mount("#app")}});
//# sourceMappingURL=app.8954a097.js.map